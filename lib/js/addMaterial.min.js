$(function(){$("#addMaterial").on("click",function(a){a.preventDefault();$("#addMaterialPopup").dialog("open")});$("#addMaterialType").on("click",function(a){a.preventDefault();$("#addMaterialTypePopup").dialog("open")});$("#addMaterialPopup").dialog({title:$("#addMaterialPopup").data("title"),modal:true,autoOpen:false,width:450,open:function(){$(this).children("form").submit(function(c){c.preventDefault();var b={},f=$(this).serializeArray(),d,a;for(a=0;a<f.length;a++){d=f[a];b[d.name]=d.value}$.post("ajax/addMaterial.php",{data:b},function(e){if(e.ok===true){document.location.reload()}},"json")})},close:function(){$(this).find("input, textarea").val("");$(this).find("select").val($(this).find("select").children(":first").attr("value"))}});$("#addMaterialTypePopup").dialog({title:$("#addMaterialTypePopup").data("title"),modal:false,autoOpen:false,open:function(){$(this).children("form").submit(function(a){a.preventDefault();var b=$(this).serializeArray();$.post("ajax/addMaterialType.php",{name:b[0].value},function(c){if(c.ok===true){var d=$("<option></option>");d.attr("value",c.id);d.text(c.name);$(".materialType").children("select").append(d);$("#addMaterialTypePopup").dialog("close")}},"json")})},close:function(){$(this).find("input:not([type=submit])").val("")}})});