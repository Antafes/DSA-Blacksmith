
(function(b,a){b.widget("dsabs.popupBlueprint",b.dsabs.popup,{options:{templates:{container:b('<div style="display: none;"></div>'),table:b('<table class="showBlueprint collapse"></table>'),thead:b("<thead></thead>"),tbody:b("<tbody></tbody>"),row:b("<tr></tr>"),headColumn:b("<th></th>"),bodyColumn:b("<td></td>")},dialog:{title:a.translations.showBlueprint,width:900}},_create:function(){this._createContent();this._super()},_createContent:function(){b.post("ajax/showBlueprint.php",{id:this.element.data("id")},b.proxy(function(h){var d,l,j,i,k,e,g,f={meleeWeapon:{name:"name",hp:"hitPoints",weight:"weight",bf:"breakFactor",ini:"initiative",price:"price",wm:"weaponModificator",notes:"notes",time:"time"},rangedWeapon:{name:"name",hp:"hitPoints",weight:"weight",price:"price",notes:"notes",time:"time"}},c;l=this.options.templates.table.clone();j=this.options.templates.thead.clone();k=this.options.templates.row.clone();b.each(f[h.type],b.proxy(function(m,n){g=this.options.templates.headColumn.clone();g.addClass(n);g.text(a.translations[m]);k.append(g)},this));j.append(k);l.append(j);i=this.options.templates.tbody.clone();e=this.options.templates.row.clone();b.each(f[h.type],b.proxy(function(m,n){g=this.options.templates.bodyColumn.clone();g.addClass(n);g.text(h[n]);e.append(g)},this));i.append(e);l.append(i);d=this.options.templates.container.clone();d.append(l);c=b('<div class="infoContainer"></div>');c.append(a.translations.improvisationalNote+" = "+a.translations.improvisational+"<br />");c.append(a.translations.twoHandedNote+" = "+a.translations.twoHanded+"<br />");c.append(a.translations.privilegedNote+" = "+a.translations.privileged+"<br />");c.append(a.translations.bonusRangedFightValueNote+" = "+a.translations.bonusRangedFightValue+"<br />");c.append(a.translations.reducePhysicalStrengthRequirementNote+" = "+a.translations.reducePhysicalStrengthRequirement);d.append(c);this.options.content=d},this),"json")}})}(jQuery,window));