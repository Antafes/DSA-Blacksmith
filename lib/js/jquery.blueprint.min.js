(function(b,a){b.widget("dsabs.popupBlueprint",b.dsabs.popup,{options:{templates:{container:b('<div style="display: none;"></div>'),table:b('<table class="showBlueprint collapse"></table>'),thead:b("<thead></thead>"),tbody:b("<tbody></tbody>"),row:b("<tr></tr>"),headColumn:b("<th></th>"),bodyColumn:b("<td></td>")},dialog:{title:a.translations.showBlueprint,width:900}},_create:function(){this._createContent();this._super()},_createContent:function(){b.post("ajax/showBlueprint.php",{id:this.element.data("id")},b.proxy(function(g){var c,k,i,h,j,d,f,e={name:"name",hp:"hitPoints",weight:"weight",bf:"breakFactor",ini:"initiative",price:"price",fm:"forceModificator",notes:"notes",time:"time"};k=this.options.templates.table.clone();i=this.options.templates.thead.clone();j=this.options.templates.row.clone();b.each(e,b.proxy(function(l,m){f=this.options.templates.headColumn.clone();f.addClass(m);f.text(a.translations[l]);j.append(f)},this));i.append(j);k.append(i);h=this.options.templates.tbody.clone();d=this.options.templates.row.clone();b.each(e,b.proxy(function(l,m){f=this.options.templates.bodyColumn.clone();f.addClass(m);f.text(g[m]);d.append(f)},this));h.append(d);k.append(h);c=this.options.templates.container.clone();c.append(k);this.options.content=c},this),"json")}})}(jQuery,window));